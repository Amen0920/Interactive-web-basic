<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Web</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style2.css">
</head>
<body>
    <div class="menu">
        <button class="menu-btn" data-value="1">
            <img src="img/3.png" alt="" class="icon">
            <span class="btn-label">메뉴 1</span>
        </button>
        <button class="menu-btn" data-value="2">
            <img src="img/4.png" alt="" class="icon">
            <span class="btn-label">메뉴 1</span>
        </button>
        <button class="menu-btn" data-value="3">
            <img src="img/5.png" alt="" class="icon">
            <span class="btn-label">메뉴 1</span>
        </button>
    </div>
</body>
<script>
    const menu = document.querySelector('.menu');

    (function(){

        function clickHandler(e){
            //콘솔로그로 찍어보면 알겠지만. 글자,이미지 클릭시 
            //각각 해당객체들이 나타나는걸 확인할 수 있음.

            // 가장쉬운 해결방법 첫번째는
            // CSS에서 pointer-events : none 을 적어주는것.
            // console.log(e.target)

            // data 속성에 넣은값을 dataset을 사용해서 가져올 수 있음.
            // console.log(e.target.dataset.value);


            //CSS 말고 자바스크립트를 통한 방법 
            let elem = e.target;
            while(!elem.classList.contains('menu-btn')){
                elem = elem.parentNode;

                // 버튼이아니라 버튼을 감싼 menu div클릭시 에러 
                // 예외처리를 위한 조건문
                if(elem.nodeName == 'BODY'){
                    elem=null;
                    return;
                }
            }
            console.log(elem.dataset.value);

        }

        menu.addEventListener('click',clickHandler);


    })();
    

</script>
</html>